<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tafelzoeker – Huwelijk</title>

    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background: #f4e9dc;
            padding: 40px 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            background: #fff7ef;
            border: 2px solid #d9a36a;
            padding: 35px;
            border-radius: 18px;
            width: 100%;
            max-width: 480px;
            box-shadow: 0 10px 25px rgba(140, 90, 50, 0.15);
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            font-size: 2rem;
            color: #a85f3d;
            text-align: center;
            margin-bottom: 5px;
        }

        .subtitle {
            text-align: center;
            color: #6c4d38;
            margin-bottom: 25px;
            font-size: 1.05rem;
        }

        .search-box {
            position: relative;
        }

        input {
            width: 100%;
            padding: 15px;
            border-radius: 12px;
            border: 2px solid #c89b74;
            font-size: 1.1rem;
            background: #fff;
            transition: 0.25s ease;
        }

        input:focus {
            border-color: #b17149;
            box-shadow: 0 0 8px rgba(177, 113, 73, 0.4);
            outline: none;
        }

        /* Suggestielijst */
        #suggestions {
            position: absolute;
            background: #fffdf9;
            border: 1px solid #d8b79a;
            border-radius: 10px;
            width: 100%;
            margin-top: 5px;
            display: none;
            z-index: 10;
            max-height: 180px;
            overflow-y: auto;
            box-shadow: 0 5px 15px rgba(140, 90, 50, 0.15);
        }

        .suggestion-item {
            padding: 12px 15px;
            cursor: pointer;
            font-size: 1rem;
            color: #7b533a;
            border-bottom: 1px solid #eddac6;
            transition: 0.2s ease;
        }

        .suggestion-item:hover {
            background: #f3e2d2;
        }

        #resultaat {
            margin-top: 30px;
            font-size: 1.8rem;
            font-weight: bold;
            color: #964b2e;
            opacity: 0;
            text-align: center;
            transition: opacity 0.5s ease, transform 0.5s ease;
            transform: translateY(10px);
        }

        #resultaat.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>

<body>

<div class="container">

    <h1>Welkom op ons huwelijksfeest</h1>
    <p class="subtitle">Vind snel je tafel door je naam te typen.<br>
        Selecteer je naam uit de lijst – makkelijk & snel!</p>

    <div class="search-box">
        <input id="naamInput" type="text" placeholder="Typ je naam..." oninput="toonSuggesties()">
        <div id="suggestions"></div>
    </div>

    <div id="resultaat"></div>

</div>

<script>

    const gasten = [
        { naam: "Zalissa Vanhauter", tafel: 1 },
        { naam: "Jani Swimberghe", tafel: 1 },
        { naam: "Katrien Barremaecker", tafel: 1 },
        { naam: "Chris Becue", tafel: 1 },
        { naam: "Johan Swimberghe", tafel: 1 },
        { naam: "Carine Van Belleghem", tafel: 1 },

        { naam: "Nicky Bruneel", tafel: 2 },
        { naam: "Sylvie Steyaert", tafel: 2 },
        { naam: "Joey De Queecker", tafel: 2 },
        { naam: "Celine Steyaert", tafel: 2 },
        { naam: "Brecht Velle", tafel: 2 },
        { naam: "Charlotte Carrette", tafel: 2 },
    ];

    function levenshtein(a, b) {
        a = a.toLowerCase(); b = b.toLowerCase();
        const m = Array(b.length + 1).fill().map(() => Array(a.length + 1).fill(0));

        for (let i = 0; i <= a.length; i++) m[0][i] = i;
        for (let j = 0; j <= b.length; j++) m[j][0] = j;

        for (let j = 1; j <= b.length; j++) {
            for (let i = 1; i <= a.length; i++) {
                const cost = a[i - 1] === b[j - 1] ? 0 : 1;
                m[j][i] = Math.min(
                    m[j-1][i] + 1,
                    m[j][i-1] + 1,
                    m[j-1][i-1] + cost
                );
            }
        }
        return m[b.length][a.length];
    }

    function vergelijkNamen(input, gastNaam) {
        const inputDelen = input.split(" ");
        const gastDelen = gastNaam.split(" ");
        let score = 0;

        inputDelen.forEach(w => {
            let beste = Infinity;
            gastDelen.forEach(g => {
                beste = Math.min(beste, levenshtein(w, g));
            });
            score += beste;
        });

        return score;
    }

    function toonSuggesties() {
        const input = document.getElementById("naamInput").value.trim().toLowerCase();
        const lijst = document.getElementById("suggestions");
        lijst.innerHTML = "";

        if (input.length < 1) {
            lijst.style.display = "none";
            return;
        }

        // Filter & fuzzy sort
        const matches = gasten
            .map(g => ({
                naam: g.naam,
                score: vergelijkNamen(input, g.naam.toLowerCase())
            }))
            .sort((a, b) => a.score - b.score)
            .slice(0, 5); // top 5 suggesties

        matches.forEach(m => {
            const div = document.createElement("div");
            div.className = "suggestion-item";
            div.textContent = m.naam;
            div.onclick = () => selectNaam(m.naam);
            lijst.appendChild(div);
        });

        lijst.style.display = "block";
    }

    function selectNaam(naam) {
        document.getElementById("naamInput").value = naam;
        document.getElementById("suggestions").style.display = "none";
        toonTafel(naam);
    }

    function toonTafel(inputNaam) {
        const resultaat = document.getElementById("resultaat");
        resultaat.classList.remove("show");

        const gevonden = gasten.find(g => g.naam === inputNaam);

        if (gevonden) {
            resultaat.textContent = `Jouw tafel: ${gevonden.tafel}`;
        } else {
            resultaat.textContent = "Naam niet gevonden.";
        }

        setTimeout(() => resultaat.classList.add("show"), 20);
    }

</script>

</body>
</html>