<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tafelzoeker ‚Äì Jani & Zalissa</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #fdf8f4;
  --accent: #c97b7b;
  --text: #3f3f3f;
  --card-bg: rgba(255, 255, 255, 0.95);
  --shadow: rgba(0,0,0,0.15);
}

* { margin:0; padding:0; box-sizing:border-box; }

body {
  font-family: 'Quicksand', sans-serif;
  background: var(--bg);
  color: var(--text);
  scroll-behavior: smooth;
}

header {
  height: 100vh;
  background: linear-gradient(to top, rgba(0,0,0,0.25), rgba(0,0,0,0.05)), url('Foto1.jpg') center/cover no-repeat;
  display: flex;
  justify-content: center;
  align-items: center;
}

.container {
  background: var(--card-bg);
  padding: 3rem 2.5rem;
  border-radius: 20px;
  box-shadow: 0 20px 40px var(--shadow);
  text-align: center;
  max-width: 500px;
  opacity: 0;
  transform: translateY(30px);
  transition: all 0.8s ease-out;
}

.container.show {
  opacity: 1;
  transform: translateY(0);
}

.container h1 {
  font-family: 'Montserrat', sans-serif;
  font-weight: 800;
  font-size: 3rem;
  margin-bottom: 1rem;
  color: var(--accent);
}

.container p {
  font-size: 1.2rem;
  margin-bottom: 2rem;
  color: var(--text);
}

input[type="text"] {
  padding: 14px 18px;
  width: 100%;
  border-radius: 12px;
  border: 2px solid var(--accent);
  font-size: 1rem;
  outline: none;
  margin-bottom: 1rem;
  transition: all 0.3s ease;
}

input[type="text"]:focus {
  border-color: #a45757;
  box-shadow: 0 0 12px rgba(201,123,123,0.25);
}

button {
  padding: 12px 28px;
  border: none;
  border-radius: 12px;
  background: var(--accent);
  color: white;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

button:hover {
  background: #a45757;
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

#resultaat {
  margin-top: 1rem;
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--accent);
  opacity: 0;
  transition: opacity 0.5s ease, transform 0.3s ease;
  transform: translateY(10px);
}

#resultaat.show {
  opacity: 1;
  transform: translateY(0);
}

/* Autocomplete dropdown */
.autocomplete-suggestions {
  text-align: left;
  border: 1px solid #ccc;
  border-radius: 8px;
  max-height: 150px;
  overflow-y: auto;
  background: rgba(255,255,255,0.97);
  margin-top: 0.2rem;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  display: none;
  position: absolute;
  width: calc(100% - 40px);
  z-index: 10;
  opacity: 0;
  transform: translateY(-10px);
  transition: all 0.3s ease-out;
}

.autocomplete-suggestions.show {
  display: block;
  opacity: 1;
  transform: translateY(0);
}

.autocomplete-suggestion {
  padding: 8px 12px;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
}

.autocomplete-suggestion:hover {
  background: var(--accent);
  color: white;
}
</style>
</head>
<body>

<header>
  <div class="container" id="container">
    <h1>Find Your Seat</h1>
    <p>Ontdek waar je mag zitten op onze speciale dag üåøüç¥</p>
    <div style="position:relative;">
      <input id="naamInput" type="text" placeholder="Vul je naam in..." autocomplete="off">
      <div class="autocomplete-suggestions" id="suggestions"></div>
    </div>
    <button onclick="zoekPersoon()">Zoek</button>
    <div id="resultaat"></div>
  </div>
</header>

<script>
window.addEventListener('load', () => {
  document.getElementById('container').classList.add('show');
});

// Gastenlijst alfabetisch
const gasten = [
    { naam: "Brecht Velle", tafel: 2 },
    { naam: "Carine Van Belleghem", tafel: 1 },
    { naam: "Charlotte Carrette", tafel: 2 },
    { naam: "Chris Becue", tafel: 1 },
    { naam: "Celine Steyaert", tafel: 2 },
    { naam: "Jani Swimberghe", tafel: 1 },
    { naam: "Joey De Queecker", tafel: 2 },
    { naam: "Eline Vermaercke", tafel: 2 },
    { naam: "Johan Swimberghe", tafel: 1 },
    { naam: "Katrien Barremaecker", tafel: 1 },
    { naam: "Nicky Bruneel", tafel: 2 },
    { naam: "Sylvie Steyaert", tafel: 2 },
    { naam: "Zalissa Vanhauter", tafel: 1 }
].sort((a,b) => a.naam.localeCompare(b.naam));

// Autocomplete suggesties
const naamInput = document.getElementById('naamInput');
const suggestionsBox = document.getElementById('suggestions');

naamInput.addEventListener('input', () => {
  const input = naamInput.value.toLowerCase();
  suggestionsBox.innerHTML = '';
  if(!input) { suggestionsBox.classList.remove('show'); return; }

  const matches = gasten.filter(g => g.naam.toLowerCase().includes(input));
  matches.forEach(m => {
    const div = document.createElement('div');
    div.className = 'autocomplete-suggestion';
    div.textContent = m.naam;
    div.addEventListener('click', () => {
      naamInput.value = m.naam;
      suggestionsBox.classList.remove('show');
    });
    suggestionsBox.appendChild(div);
  });
  if(matches.length) suggestionsBox.classList.add('show');
  else suggestionsBox.classList.remove('show');
});

function levenshtein(a, b) {
    a = a.toLowerCase(); b = b.toLowerCase();
    const matrix = Array(b.length+1).fill(null).map(()=>Array(a.length+1).fill(0));
    for(let i=0;i<=a.length;i++) matrix[0][i]=i;
    for(let j=0;j<=b.length;j++) matrix[j][0]=j;
    for(let j=1;j<=b.length;j++){
        for(let i=1;i<=a.length;i++){
            if(a[i-1]===b[j-1]) matrix[j][i]=matrix[j-1][i-1];
            else matrix[j][i]=Math.min(matrix[j-1][i]+1,matrix[j][i-1]+1,matrix[j-1][i-1]+1);
        }
    }
    return matrix[b.length][a.length];
}

function vergelijkNamen(inputNaam, gastNaam) {
    const inputDelen = inputNaam.split(" ");
    const gastDelen = gastNaam.split(" ");
    let totaleScore = 0;
    inputDelen.forEach(invoerWoord=>{
        let beste=Infinity;
        gastDelen.forEach(gastWoord=>{
            const score = levenshtein(invoerWoord, gastWoord);
            if(score<beste) beste=score;
        });
        totaleScore += beste;
    });
    return totaleScore;
}

function zoekPersoon() {
    const input = naamInput.value.trim().replace(/\s+/g, " ");
    const resultaat = document.getElementById("resultaat");
    resultaat.classList.remove("show");

    if(!input){
        resultaat.textContent = "Voer een naam in.";
        resultaat.classList.add("show");
        return;
    }

    let besteMatch = null;
    let besteScore = 999;

    gasten.forEach(gast=>{
        const score = vergelijkNamen(input.toLowerCase(), gast.naam.toLowerCase());
        if(score < besteScore){
            besteScore = score;
            besteMatch = gast;
        }
    });

    if(besteScore <= 4){
        resultaat.textContent = `Welkom! Je zit aan tafel ${besteMatch.tafel}. Je bent vrij om ook eens aan een andere tafel te schuiven.`;
    } else {
        resultaat.textContent = "Naam niet gevonden. Probeer opnieuw.";
    }

    setTimeout(()=>{ resultaat.classList.add("show"); },50);
}
</script>

</body>
</html>

